{"version":3,"sources":["js/toDo.js"],"names":["toDo","toDoForm","document","querySelector","toDoInput","toDoList","toDoById","saveToDos","localStorage","setItem","JSON","stringify","deleteToDo","event","btn","li","target","parentNode","removeChild","id","paintToDo","text","createElement","delBtn","span","Date","now","classList","add","innerText","addEventListener","appendChild","handleSubmit","preventDefault","value","currentValue","loadedToDos","getItem","parsedToDos","parse","key","loadToDos"],"mappings":";AAAA,IAAMA,EAAO,WACLC,IAAAA,EAAWC,SAASC,cAAc,SACtCC,EAAYH,EAASE,cAAc,gBACnCE,EAAWH,SAASC,cAAc,eAIhCG,EAAW,GAETC,EAAY,WAChBC,aAAaC,QALE,QAKgBC,KAAKC,UAAUL,KAe1CM,EAAa,SAACC,GACZC,IACAC,EADMF,EAAMG,OACHC,WACfF,EAAGE,WAAWC,YAAYH,UACnBT,EAASS,EAAGI,IACnBZ,KAGIa,EAAY,SAACC,EAAMF,GACnB,GAACE,EAAD,CAIEN,IAAAA,EAAKb,SAASoB,cAAc,MAC5BC,EAASrB,SAASoB,cAAc,UAChCE,EAAOtB,SAASoB,cAAc,QAC/BH,IACHA,EAAKM,KAAKC,OAGZH,EAAOI,UAAUC,IAAI,gBACrBL,EAAOM,UAAY,IACnBN,EAAOO,iBAAiB,QAASlB,GACjCY,EAAKK,UAAYR,EACjBN,EAAGI,GAAKA,EACRJ,EAAGgB,YAAYR,GACfR,EAAGgB,YAAYP,GACfnB,EAAS0B,YAAYhB,GACrBT,EAASa,GAAME,EACfd,MAGIyB,EAAe,SAACnB,GAEhB,GADJA,EAAMoB,iBACDpB,GAAUT,EAAU8B,MAArB,CAIEC,IAAAA,EAAe/B,EAAU8B,MAC/B9B,EAAU8B,MAAQ,GAClBd,EAAUe,MApDM,WACVC,IAAAA,EAAc5B,aAAa6B,QATlB,SAUX,GAACD,EAAD,CAIEE,IAAAA,EAAc5B,KAAK6B,MAAMH,GAC1B,IAAA,IAAMI,KAAOF,EAChBlB,EAAUkB,EAAYE,GAAMA,IAgD9BC,GACAxC,EAAS6B,iBAAiB,SAAUE,IAIxChC","file":"toDo.726ea15d.js","sourceRoot":"..","sourcesContent":["const toDo = () => {\r\n  const toDoForm = document.querySelector(\".todo\"),\r\n    toDoInput = toDoForm.querySelector(\".todo__input\"),\r\n    toDoList = document.querySelector(\".todo__list\");\r\n\r\n  const KEY_TODO = \"toDos\";\r\n\r\n  let toDoById = {};\r\n\r\n  const saveToDos = () => {\r\n    localStorage.setItem(KEY_TODO, JSON.stringify(toDoById));\r\n  };\r\n\r\n  const loadToDos = () => {\r\n    const loadedToDos = localStorage.getItem(KEY_TODO);\r\n    if (!loadedToDos) {\r\n      return;\r\n    }\r\n\r\n    const parsedToDos = JSON.parse(loadedToDos);\r\n    for (const key in parsedToDos) {\r\n      paintToDo(parsedToDos[key], key);\r\n    }\r\n  };\r\n\r\n  const deleteToDo = (event) => {\r\n    const btn = event.target;\r\n    const li = btn.parentNode;\r\n    li.parentNode.removeChild(li);\r\n    delete toDoById[li.id];\r\n    saveToDos();\r\n  };\r\n\r\n  const paintToDo = (text, id) => {\r\n    if (!text) {\r\n      return;\r\n    }\r\n\r\n    const li = document.createElement(\"li\");\r\n    const delBtn = document.createElement(\"button\");\r\n    const span = document.createElement(\"span\");\r\n    if (!id) {\r\n      id = Date.now();\r\n    }\r\n\r\n    delBtn.classList.add(\"todo__button\");\r\n    delBtn.innerText = \"❌\";\r\n    delBtn.addEventListener(\"click\", deleteToDo);\r\n    span.innerText = text;\r\n    li.id = id;\r\n    li.appendChild(delBtn);\r\n    li.appendChild(span);\r\n    toDoList.appendChild(li);\r\n    toDoById[id] = text;\r\n    saveToDos();\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (!event || !toDoInput.value) {\r\n      return;\r\n    }\r\n\r\n    const currentValue = toDoInput.value;\r\n    toDoInput.value = \"\";\r\n    paintToDo(currentValue);\r\n  };\r\n\r\n  const init = () => {\r\n    loadToDos();\r\n    toDoForm.addEventListener(\"submit\", handleSubmit);\r\n  };\r\n  init();\r\n};\r\ntoDo();\r\n"]}